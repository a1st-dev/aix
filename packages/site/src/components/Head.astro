---
/**
 * Extends Starlight's default Head component to add a per-page og:image
 * generated by astro-og-canvas at /og/{slug}.png.
 */
const { starlightRoute } = Astro.locals;
const ogImageUrl = new URL(`/og/${starlightRoute.slug}.png`, Astro.site).href;
---

{starlightRoute.head.map(({ tag: Tag, attrs, content }) => <Tag {...attrs} set:html={content} />)}
<meta property="og:image" content={ogImageUrl} />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:image:alt" content={starlightRoute.entry.data.title} />
<meta name="twitter:image" content={ogImageUrl} />
<meta name="twitter:image:alt" content={starlightRoute.entry.data.title} />
