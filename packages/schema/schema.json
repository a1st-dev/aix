{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://x.a1st.dev/schemas/v1/ai.json",
  "title": "ai.json Configuration",
  "description": "Configuration file for aix - unified AI agent and editor configuration",
  "$ref": "#/definitions/AiJsonConfig",
  "definitions": {
    "AiJsonConfig": {
      "type": "object",
      "properties": {
        "$schema": {
          "type": "string",
          "format": "uri",
          "description": "URL to JSON Schema for validation"
        },
        "extends": {
          "anyOf": [
            {
              "type": "string",
              "description": "Single config to extend (npm package or local path)"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Array of configs to extend (resolved in order)"
            }
          ],
          "description": "Extend from other ai.json configs"
        },
        "skills": {
          "type": "object",
          "additionalProperties": {
            "anyOf": [
              {
                "anyOf": [
                  {
                    "anyOf": [
                      {
                        "type": "string",
                        "description": "Shorthand: version range or local path"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "git": {
                            "type": "string",
                            "description": "Git URL (e.g., \"github:user/repo\", \"https://...\")"
                          },
                          "ref": {
                            "type": "string",
                            "description": "Git ref (branch, tag, commit)"
                          },
                          "path": {
                            "type": "string",
                            "description": "Subdirectory within repo"
                          }
                        },
                        "required": [
                          "git"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "path": {
                            "type": "string",
                            "description": "Local file or directory path"
                          }
                        },
                        "required": [
                          "path"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "version": {
                            "type": "string",
                            "description": "Version range from registry"
                          },
                          "registry": {
                            "type": "string",
                            "format": "uri",
                            "description": "Custom registry URL"
                          }
                        },
                        "required": [
                          "version"
                        ],
                        "additionalProperties": false
                      }
                    ],
                    "description": "Reference to a skill, config, or resource"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "source": {
                        "anyOf": [
                          {
                            "type": "string",
                            "description": "Shorthand: version range or local path"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "git": {
                                "type": "string",
                                "description": "Git URL (e.g., \"github:user/repo\", \"https://...\")"
                              },
                              "ref": {
                                "type": "string",
                                "description": "Git ref (branch, tag, commit)"
                              },
                              "path": {
                                "type": "string",
                                "description": "Subdirectory within repo"
                              }
                            },
                            "required": [
                              "git"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "path": {
                                "type": "string",
                                "description": "Local file or directory path"
                              }
                            },
                            "required": [
                              "path"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "version": {
                                "type": "string",
                                "description": "Version range from registry"
                              },
                              "registry": {
                                "type": "string",
                                "format": "uri",
                                "description": "Custom registry URL"
                              }
                            },
                            "required": [
                              "version"
                            ],
                            "additionalProperties": false
                          }
                        ],
                        "description": "Where to load the skill from"
                      },
                      "enabled": {
                        "type": "boolean",
                        "default": true,
                        "description": "Whether skill is active"
                      },
                      "config": {
                        "type": "object",
                        "additionalProperties": {},
                        "description": "Skill-specific configuration"
                      }
                    },
                    "required": [
                      "source"
                    ],
                    "additionalProperties": false
                  }
                ],
                "description": "Skill reference (Agent Skills spec compliant)"
              },
              {
                "type": "boolean",
                "const": false
              }
            ]
          },
          "propertyNames": {
            "minLength": 1,
            "maxLength": 64,
            "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
          },
          "description": "Map of skill names to their configurations (or false to disable)",
          "default": {}
        },
        "mcp": {
          "type": "object",
          "additionalProperties": {
            "anyOf": [
              {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "description": "Whether server is active (default: true)"
                      },
                      "tools": {
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Allowed tool names"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "include": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Tools to include"
                              },
                              "exclude": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Tools to exclude"
                              }
                            },
                            "additionalProperties": false
                          }
                        ],
                        "description": "Tool access control"
                      },
                      "disabledTools": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Tools to disable (Windsurf format)"
                      },
                      "resources": {
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Allowed resource patterns (glob)"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "include": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Resource patterns to include"
                              },
                              "exclude": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Resource patterns to exclude"
                              }
                            },
                            "additionalProperties": false
                          }
                        ],
                        "description": "Resource access control"
                      },
                      "autoStart": {
                        "type": "boolean",
                        "description": "Start with editor (default: true)"
                      },
                      "restartOnFailure": {
                        "type": "boolean",
                        "description": "Auto-restart on crash (default: true)"
                      },
                      "maxRestarts": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "description": "Max restart attempts (default: 3)"
                      },
                      "command": {
                        "type": "string",
                        "description": "Command to execute"
                      },
                      "args": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Command arguments"
                      },
                      "env": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "string",
                          "description": "Environment variable value. Use ${VAR_NAME} for dynamic resolution."
                        },
                        "description": "Environment variables"
                      },
                      "cwd": {
                        "type": "string",
                        "description": "Working directory"
                      },
                      "shell": {
                        "type": "boolean",
                        "description": "Run in shell"
                      }
                    },
                    "required": [
                      "command"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "description": "Whether server is active (default: true)"
                      },
                      "tools": {
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Allowed tool names"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "include": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Tools to include"
                              },
                              "exclude": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Tools to exclude"
                              }
                            },
                            "additionalProperties": false
                          }
                        ],
                        "description": "Tool access control"
                      },
                      "disabledTools": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Tools to disable (Windsurf format)"
                      },
                      "resources": {
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Allowed resource patterns (glob)"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "include": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Resource patterns to include"
                              },
                              "exclude": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Resource patterns to exclude"
                              }
                            },
                            "additionalProperties": false
                          }
                        ],
                        "description": "Resource access control"
                      },
                      "autoStart": {
                        "type": "boolean",
                        "description": "Start with editor (default: true)"
                      },
                      "restartOnFailure": {
                        "type": "boolean",
                        "description": "Auto-restart on crash (default: true)"
                      },
                      "maxRestarts": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "description": "Max restart attempts (default: 3)"
                      },
                      "url": {
                        "type": "string",
                        "format": "uri",
                        "description": "MCP endpoint URL (Streamable HTTP)"
                      },
                      "headers": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "string",
                          "description": "Environment variable value. Use ${VAR_NAME} for dynamic resolution."
                        },
                        "description": "HTTP headers"
                      },
                      "timeout": {
                        "type": "number",
                        "exclusiveMinimum": 0,
                        "description": "Connection timeout (ms)"
                      },
                      "validateOrigin": {
                        "type": "boolean",
                        "description": "Validate Origin header (security)"
                      }
                    },
                    "required": [
                      "url"
                    ],
                    "additionalProperties": false
                  }
                ]
              },
              {
                "type": "boolean",
                "const": false
              }
            ]
          },
          "propertyNames": {
            "minLength": 1
          },
          "description": "Map of MCP server names to configurations (or false to disable)",
          "default": {}
        },
        "rules": {
          "type": "object",
          "additionalProperties": {
            "anyOf": [
              {
                "anyOf": [
                  {
                    "type": "string",
                    "description": "Source reference: local path (./, ../, /, file:), git URL (https://), or git shorthand (github:)"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "description": {
                        "type": "string",
                        "description": "When the rule should apply (required for auto mode)"
                      },
                      "activation": {
                        "type": "string",
                        "enum": [
                          "always",
                          "auto",
                          "glob",
                          "manual"
                        ],
                        "default": "always",
                        "description": "When the rule should be activated"
                      },
                      "globs": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "File patterns (required for glob mode)"
                      },
                      "content": {
                        "type": "string",
                        "description": "Inline rule content"
                      },
                      "path": {
                        "type": "string",
                        "description": "Local file path to rule content"
                      },
                      "git": {
                        "type": "object",
                        "properties": {
                          "url": {
                            "type": "string",
                            "description": "Git repository URL or shorthand (e.g., github:user/repo)"
                          },
                          "path": {
                            "type": "string",
                            "description": "Path to rule file within repo (default: root)"
                          },
                          "ref": {
                            "type": "string",
                            "description": "Branch, tag, or commit (default: main/master)"
                          }
                        },
                        "required": [
                          "url"
                        ],
                        "additionalProperties": false,
                        "description": "Git repository source"
                      },
                      "npm": {
                        "type": "object",
                        "properties": {
                          "npm": {
                            "type": "string",
                            "description": "NPM package name (e.g., \"@company/rules\")"
                          },
                          "path": {
                            "type": "string",
                            "description": "Path to file within package (e.g., \"rules/style.md\")"
                          },
                          "version": {
                            "type": "string",
                            "description": "Version to auto-install (omit to use project node_modules)"
                          }
                        },
                        "required": [
                          "npm",
                          "path"
                        ],
                        "additionalProperties": false,
                        "description": "NPM package source"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Rule with metadata and content source"
                  }
                ]
              },
              {
                "type": "boolean",
                "const": false
              }
            ]
          },
          "propertyNames": {
            "minLength": 1,
            "maxLength": 64,
            "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
          },
          "description": "Map of rule names to their definitions (or false to disable)",
          "default": {}
        },
        "prompts": {
          "type": "object",
          "additionalProperties": {
            "anyOf": [
              {
                "anyOf": [
                  {
                    "type": "string",
                    "description": "Source reference: local path (./, ../, /, file:), git URL (https://), or git shorthand (github:)"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "description": {
                        "type": "string",
                        "description": "Shown in command picker"
                      },
                      "argumentHint": {
                        "type": "string",
                        "description": "Hint for arguments (e.g., \"[file] [message]\")"
                      },
                      "content": {
                        "type": "string",
                        "description": "Inline prompt content"
                      },
                      "path": {
                        "type": "string",
                        "description": "Local file path to prompt content"
                      },
                      "git": {
                        "type": "object",
                        "properties": {
                          "url": {
                            "type": "string",
                            "description": "Git repository URL or shorthand (e.g., github:user/repo)"
                          },
                          "path": {
                            "type": "string",
                            "description": "Path to rule file within repo (default: root)"
                          },
                          "ref": {
                            "type": "string",
                            "description": "Branch, tag, or commit (default: main/master)"
                          }
                        },
                        "required": [
                          "url"
                        ],
                        "additionalProperties": false,
                        "description": "Git repository source"
                      },
                      "npm": {
                        "type": "object",
                        "properties": {
                          "npm": {
                            "type": "string",
                            "description": "NPM package name (e.g., \"@company/rules\")"
                          },
                          "path": {
                            "type": "string",
                            "description": "Path to file within package (e.g., \"rules/style.md\")"
                          },
                          "version": {
                            "type": "string",
                            "description": "Version to auto-install (omit to use project node_modules)"
                          }
                        },
                        "required": [
                          "npm",
                          "path"
                        ],
                        "additionalProperties": false,
                        "description": "NPM package source"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Prompt/command definition"
                  }
                ]
              },
              {
                "type": "boolean",
                "const": false
              }
            ]
          },
          "propertyNames": {
            "minLength": 1,
            "maxLength": 64,
            "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
          },
          "description": "Map of prompt names to their definitions (or false to disable)",
          "default": {}
        },
        "editors": {
          "anyOf": [
            {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": [
                      "windsurf",
                      "cursor",
                      "claude-code",
                      "vscode",
                      "zed",
                      "neovim"
                    ],
                    "description": "Supported editor/agent"
                  },
                  {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "enabled": {
                          "type": "boolean",
                          "default": true,
                          "description": "Whether to configure this editor"
                        },
                        "rules": {
                          "type": "object",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "description": "Source reference: local path (./, ../, /, file:), git URL (https://), or git shorthand (github:)"
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "description": {
                                        "type": "string",
                                        "description": "When the rule should apply (required for auto mode)"
                                      },
                                      "activation": {
                                        "type": "string",
                                        "enum": [
                                          "always",
                                          "auto",
                                          "glob",
                                          "manual"
                                        ],
                                        "default": "always",
                                        "description": "When the rule should be activated"
                                      },
                                      "globs": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        },
                                        "description": "File patterns (required for glob mode)"
                                      },
                                      "content": {
                                        "type": "string",
                                        "description": "Inline rule content"
                                      },
                                      "path": {
                                        "type": "string",
                                        "description": "Local file path to rule content"
                                      },
                                      "git": {
                                        "type": "object",
                                        "properties": {
                                          "url": {
                                            "type": "string",
                                            "description": "Git repository URL or shorthand (e.g., github:user/repo)"
                                          },
                                          "path": {
                                            "type": "string",
                                            "description": "Path to rule file within repo (default: root)"
                                          },
                                          "ref": {
                                            "type": "string",
                                            "description": "Branch, tag, or commit (default: main/master)"
                                          }
                                        },
                                        "required": [
                                          "url"
                                        ],
                                        "additionalProperties": false,
                                        "description": "Git repository source"
                                      },
                                      "npm": {
                                        "type": "object",
                                        "properties": {
                                          "npm": {
                                            "type": "string",
                                            "description": "NPM package name (e.g., \"@company/rules\")"
                                          },
                                          "path": {
                                            "type": "string",
                                            "description": "Path to file within package (e.g., \"rules/style.md\")"
                                          },
                                          "version": {
                                            "type": "string",
                                            "description": "Version to auto-install (omit to use project node_modules)"
                                          }
                                        },
                                        "required": [
                                          "npm",
                                          "path"
                                        ],
                                        "additionalProperties": false,
                                        "description": "NPM package source"
                                      }
                                    },
                                    "additionalProperties": false,
                                    "description": "Rule with metadata and content source"
                                  }
                                ]
                              },
                              {
                                "type": "boolean",
                                "const": false
                              }
                            ]
                          },
                          "propertyNames": {
                            "minLength": 1,
                            "maxLength": 64,
                            "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
                          },
                          "description": "Editor-specific rules (in addition to global rules)"
                        }
                      },
                      "additionalProperties": false
                    }
                  }
                ]
              },
              "description": "Shorthand: array of editor names or configs"
            },
            {
              "type": "object",
              "properties": {
                "windsurf": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": true,
                      "description": "Whether to configure this editor"
                    },
                    "rules": {
                      "type": "object",
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "anyOf": [
                              {
                                "type": "string",
                                "description": "Source reference: local path (./, ../, /, file:), git URL (https://), or git shorthand (github:)"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "description": {
                                    "type": "string",
                                    "description": "When the rule should apply (required for auto mode)"
                                  },
                                  "activation": {
                                    "type": "string",
                                    "enum": [
                                      "always",
                                      "auto",
                                      "glob",
                                      "manual"
                                    ],
                                    "default": "always",
                                    "description": "When the rule should be activated"
                                  },
                                  "globs": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    },
                                    "description": "File patterns (required for glob mode)"
                                  },
                                  "content": {
                                    "type": "string",
                                    "description": "Inline rule content"
                                  },
                                  "path": {
                                    "type": "string",
                                    "description": "Local file path to rule content"
                                  },
                                  "git": {
                                    "type": "object",
                                    "properties": {
                                      "url": {
                                        "type": "string",
                                        "description": "Git repository URL or shorthand (e.g., github:user/repo)"
                                      },
                                      "path": {
                                        "type": "string",
                                        "description": "Path to rule file within repo (default: root)"
                                      },
                                      "ref": {
                                        "type": "string",
                                        "description": "Branch, tag, or commit (default: main/master)"
                                      }
                                    },
                                    "required": [
                                      "url"
                                    ],
                                    "additionalProperties": false,
                                    "description": "Git repository source"
                                  },
                                  "npm": {
                                    "type": "object",
                                    "properties": {
                                      "npm": {
                                        "type": "string",
                                        "description": "NPM package name (e.g., \"@company/rules\")"
                                      },
                                      "path": {
                                        "type": "string",
                                        "description": "Path to file within package (e.g., \"rules/style.md\")"
                                      },
                                      "version": {
                                        "type": "string",
                                        "description": "Version to auto-install (omit to use project node_modules)"
                                      }
                                    },
                                    "required": [
                                      "npm",
                                      "path"
                                    ],
                                    "additionalProperties": false,
                                    "description": "NPM package source"
                                  }
                                },
                                "additionalProperties": false,
                                "description": "Rule with metadata and content source"
                              }
                            ]
                          },
                          {
                            "type": "boolean",
                            "const": false
                          }
                        ]
                      },
                      "propertyNames": {
                        "minLength": 1,
                        "maxLength": 64,
                        "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
                      },
                      "description": "Editor-specific rules (in addition to global rules)"
                    },
                    "cascadeSettings": {
                      "type": "object",
                      "additionalProperties": {},
                      "description": "Windsurf Cascade settings"
                    }
                  },
                  "additionalProperties": false
                },
                "cursor": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": true,
                      "description": "Whether to configure this editor"
                    },
                    "rules": {
                      "type": "object",
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "anyOf": [
                              {
                                "type": "string",
                                "description": "Source reference: local path (./, ../, /, file:), git URL (https://), or git shorthand (github:)"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "description": {
                                    "type": "string",
                                    "description": "When the rule should apply (required for auto mode)"
                                  },
                                  "activation": {
                                    "type": "string",
                                    "enum": [
                                      "always",
                                      "auto",
                                      "glob",
                                      "manual"
                                    ],
                                    "default": "always",
                                    "description": "When the rule should be activated"
                                  },
                                  "globs": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    },
                                    "description": "File patterns (required for glob mode)"
                                  },
                                  "content": {
                                    "type": "string",
                                    "description": "Inline rule content"
                                  },
                                  "path": {
                                    "type": "string",
                                    "description": "Local file path to rule content"
                                  },
                                  "git": {
                                    "type": "object",
                                    "properties": {
                                      "url": {
                                        "type": "string",
                                        "description": "Git repository URL or shorthand (e.g., github:user/repo)"
                                      },
                                      "path": {
                                        "type": "string",
                                        "description": "Path to rule file within repo (default: root)"
                                      },
                                      "ref": {
                                        "type": "string",
                                        "description": "Branch, tag, or commit (default: main/master)"
                                      }
                                    },
                                    "required": [
                                      "url"
                                    ],
                                    "additionalProperties": false,
                                    "description": "Git repository source"
                                  },
                                  "npm": {
                                    "type": "object",
                                    "properties": {
                                      "npm": {
                                        "type": "string",
                                        "description": "NPM package name (e.g., \"@company/rules\")"
                                      },
                                      "path": {
                                        "type": "string",
                                        "description": "Path to file within package (e.g., \"rules/style.md\")"
                                      },
                                      "version": {
                                        "type": "string",
                                        "description": "Version to auto-install (omit to use project node_modules)"
                                      }
                                    },
                                    "required": [
                                      "npm",
                                      "path"
                                    ],
                                    "additionalProperties": false,
                                    "description": "NPM package source"
                                  }
                                },
                                "additionalProperties": false,
                                "description": "Rule with metadata and content source"
                              }
                            ]
                          },
                          {
                            "type": "boolean",
                            "const": false
                          }
                        ]
                      },
                      "propertyNames": {
                        "minLength": 1,
                        "maxLength": 64,
                        "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
                      },
                      "description": "Editor-specific rules (in addition to global rules)"
                    },
                    "aiSettings": {
                      "type": "object",
                      "additionalProperties": {},
                      "description": "Cursor AI settings"
                    }
                  },
                  "additionalProperties": false
                },
                "claude-code": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": true,
                      "description": "Whether to configure this editor"
                    },
                    "rules": {
                      "type": "object",
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "anyOf": [
                              {
                                "type": "string",
                                "description": "Source reference: local path (./, ../, /, file:), git URL (https://), or git shorthand (github:)"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "description": {
                                    "type": "string",
                                    "description": "When the rule should apply (required for auto mode)"
                                  },
                                  "activation": {
                                    "type": "string",
                                    "enum": [
                                      "always",
                                      "auto",
                                      "glob",
                                      "manual"
                                    ],
                                    "default": "always",
                                    "description": "When the rule should be activated"
                                  },
                                  "globs": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    },
                                    "description": "File patterns (required for glob mode)"
                                  },
                                  "content": {
                                    "type": "string",
                                    "description": "Inline rule content"
                                  },
                                  "path": {
                                    "type": "string",
                                    "description": "Local file path to rule content"
                                  },
                                  "git": {
                                    "type": "object",
                                    "properties": {
                                      "url": {
                                        "type": "string",
                                        "description": "Git repository URL or shorthand (e.g., github:user/repo)"
                                      },
                                      "path": {
                                        "type": "string",
                                        "description": "Path to rule file within repo (default: root)"
                                      },
                                      "ref": {
                                        "type": "string",
                                        "description": "Branch, tag, or commit (default: main/master)"
                                      }
                                    },
                                    "required": [
                                      "url"
                                    ],
                                    "additionalProperties": false,
                                    "description": "Git repository source"
                                  },
                                  "npm": {
                                    "type": "object",
                                    "properties": {
                                      "npm": {
                                        "type": "string",
                                        "description": "NPM package name (e.g., \"@company/rules\")"
                                      },
                                      "path": {
                                        "type": "string",
                                        "description": "Path to file within package (e.g., \"rules/style.md\")"
                                      },
                                      "version": {
                                        "type": "string",
                                        "description": "Version to auto-install (omit to use project node_modules)"
                                      }
                                    },
                                    "required": [
                                      "npm",
                                      "path"
                                    ],
                                    "additionalProperties": false,
                                    "description": "NPM package source"
                                  }
                                },
                                "additionalProperties": false,
                                "description": "Rule with metadata and content source"
                              }
                            ]
                          },
                          {
                            "type": "boolean",
                            "const": false
                          }
                        ]
                      },
                      "propertyNames": {
                        "minLength": 1,
                        "maxLength": 64,
                        "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
                      },
                      "description": "Editor-specific rules (in addition to global rules)"
                    },
                    "permissions": {
                      "type": "object",
                      "additionalProperties": {},
                      "description": "Claude Code permissions"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean",
                    "default": true,
                    "description": "Whether to configure this editor"
                  },
                  "rules": {
                    "type": "object",
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "anyOf": [
                            {
                              "type": "string",
                              "description": "Source reference: local path (./, ../, /, file:), git URL (https://), or git shorthand (github:)"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "description": {
                                  "type": "string",
                                  "description": "When the rule should apply (required for auto mode)"
                                },
                                "activation": {
                                  "type": "string",
                                  "enum": [
                                    "always",
                                    "auto",
                                    "glob",
                                    "manual"
                                  ],
                                  "default": "always",
                                  "description": "When the rule should be activated"
                                },
                                "globs": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "description": "File patterns (required for glob mode)"
                                },
                                "content": {
                                  "type": "string",
                                  "description": "Inline rule content"
                                },
                                "path": {
                                  "type": "string",
                                  "description": "Local file path to rule content"
                                },
                                "git": {
                                  "type": "object",
                                  "properties": {
                                    "url": {
                                      "type": "string",
                                      "description": "Git repository URL or shorthand (e.g., github:user/repo)"
                                    },
                                    "path": {
                                      "type": "string",
                                      "description": "Path to rule file within repo (default: root)"
                                    },
                                    "ref": {
                                      "type": "string",
                                      "description": "Branch, tag, or commit (default: main/master)"
                                    }
                                  },
                                  "required": [
                                    "url"
                                  ],
                                  "additionalProperties": false,
                                  "description": "Git repository source"
                                },
                                "npm": {
                                  "type": "object",
                                  "properties": {
                                    "npm": {
                                      "type": "string",
                                      "description": "NPM package name (e.g., \"@company/rules\")"
                                    },
                                    "path": {
                                      "type": "string",
                                      "description": "Path to file within package (e.g., \"rules/style.md\")"
                                    },
                                    "version": {
                                      "type": "string",
                                      "description": "Version to auto-install (omit to use project node_modules)"
                                    }
                                  },
                                  "required": [
                                    "npm",
                                    "path"
                                  ],
                                  "additionalProperties": false,
                                  "description": "NPM package source"
                                }
                              },
                              "additionalProperties": false,
                              "description": "Rule with metadata and content source"
                            }
                          ]
                        },
                        {
                          "type": "boolean",
                          "const": false
                        }
                      ]
                    },
                    "propertyNames": {
                      "minLength": 1,
                      "maxLength": 64,
                      "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
                    },
                    "description": "Editor-specific rules (in addition to global rules)"
                  }
                },
                "additionalProperties": false
              }
            }
          ],
          "description": "Editor-specific configurations"
        },
        "hooks": {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "matcher": {
                  "type": "string",
                  "description": "Pattern to match (regex supported, editor-specific)"
                },
                "hooks": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "command": {
                        "type": "string",
                        "description": "Shell command to execute"
                      },
                      "timeout": {
                        "type": "number",
                        "exclusiveMinimum": 0,
                        "description": "Timeout in seconds"
                      },
                      "show_output": {
                        "type": "boolean",
                        "description": "Whether to show command output in UI"
                      },
                      "working_directory": {
                        "type": "string",
                        "description": "Working directory for the command"
                      }
                    },
                    "required": [
                      "command"
                    ],
                    "additionalProperties": false,
                    "description": "Hook action configuration"
                  },
                  "description": "Hooks to execute when matched"
                }
              },
              "required": [
                "hooks"
              ],
              "additionalProperties": false,
              "description": "Hook matcher configuration"
            }
          },
          "propertyNames": {
            "enum": [
              "pre_tool_use",
              "post_tool_use",
              "pre_file_read",
              "post_file_read",
              "pre_file_write",
              "post_file_write",
              "pre_command",
              "post_command",
              "pre_mcp_tool",
              "post_mcp_tool",
              "pre_prompt",
              "session_start",
              "session_end",
              "agent_stop"
            ]
          },
          "description": "Lifecycle hooks for AI agent events"
        },
        "aix": {
          "type": "object",
          "properties": {
            "cache": {
              "type": "object",
              "properties": {
                "maxBackups": {
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 100,
                  "default": 5,
                  "description": "Maximum number of backup files to keep per file"
                },
                "maxBackupAgeDays": {
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 365,
                  "default": 30,
                  "description": "Delete backups older than this many days"
                },
                "maxCacheAgeDays": {
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 365,
                  "default": 7,
                  "description": "Delete git-sourced cache entries older than this many days"
                }
              },
              "additionalProperties": false,
              "description": "Cache and backup retention settings"
            }
          },
          "additionalProperties": false,
          "description": "aix CLI tool settings"
        }
      },
      "additionalProperties": false
    }
  }
}